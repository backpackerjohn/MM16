<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Momentum AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,700&family=Inter:wght@400;500;600;700;800&display=swap');
      
      :root {
        /* Default Theme: Creative */
        --color-bg-h: 30; --color-bg-s: 25%; --color-bg-l: 95.7%;
        --color-surface-h: 0; --color-surface-s: 0%; --color-surface-l: 100%;
        --color-surface-sunken-h: 30; --color-surface-sunken-s: 18.2%; --color-surface-sunken-l: 94.1%;
        --color-text-primary-h: 21; --color-text-primary-s: 28.9%; --color-text-primary-l: 18.6%;
        --color-text-secondary-h: 21; --color-text-secondary-s: 15.4%; --color-text-secondary-l: 29.2%;
        --color-text-subtle-h: 21; --color-text-subtle-s: 12.3%; --color-text-subtle-l: 36%;
        --color-border-h: 30; --color-border-s: 16.7%; --color-border-l: 85%;
        --color-border-hover-h: 30; --color-border-hover-s: 12.5%; --color-border-hover-l: 78%;
        --color-primary-accent-h: 11; --color-primary-accent-s: 55.4%; --color-primary-accent-l: 54.3%;
        --color-primary-accent-text-h: 0; --color-primary-accent-text-s: 0%; --color-primary-accent-text-l: 100%;
        --color-secondary-accent-h: 147; --color-secondary-accent-s: 27.6%; --color-secondary-accent-l: 42%;
        --color-secondary-accent-text-h: 0; --color-secondary-accent-text-s: 0%; --color-secondary-accent-text-l: 100%;
        --color-success-h: 147; --color-success-s: 27.6%; --color-success-l: 42%;
        --color-warning-h: 40; --color-warning-s: 94.4%; --color-warning-l: 57.1%;
        --color-danger-h: 352; --color-danger-s: 98.4%; --color-danger-l: 41%;
        --color-danger-text-h: 0; --color-danger-text-s: 0%; --color-danger-text-l: 100%;
        
        /* Customization Variables */
        --animation-speed-modifier: 1; /* 0 to 2 */
        --color-intensity-modifier: 1; /* 0 to 1.5 */
        --ui-contrast-modifier: 1; /* 0.8 to 1.2 */
        --text-contrast-modifier: 1; /* 0.8 to 1.5 */

        /* Base Dynamic Properties */
        --color-bg: hsl(var(--color-bg-h), calc(var(--color-bg-s) * var(--color-intensity-modifier)), calc(var(--color-bg-l) * var(--ui-contrast-modifier)));
        --color-surface: hsl(var(--color-surface-h), calc(var(--color-surface-s) * var(--color-intensity-modifier)), calc(var(--color-surface-l) * var(--ui-contrast-modifier)));
        --color-surface-sunken: hsl(var(--color-surface-sunken-h), calc(var(--color-surface-sunken-s) * var(--color-intensity-modifier)), calc(var(--color-surface-sunken-l) * var(--ui-contrast-modifier)));
        --color-text-primary: hsl(var(--color-text-primary-h), calc(var(--color-text-primary-s) * var(--color-intensity-modifier)), calc(var(--color-text-primary-l) / var(--text-contrast-modifier)));
        --color-text-secondary: hsl(var(--color-text-secondary-h), calc(var(--color-text-secondary-s) * var(--color-intensity-modifier)), calc(var(--color-text-secondary-l) / var(--text-contrast-modifier)));
        --color-text-subtle: hsl(var(--color-text-subtle-h), calc(var(--color-text-subtle-s) * var(--color-intensity-modifier)), calc(var(--color-text-subtle-l) / var(--text-contrast-modifier)));
        --color-border: hsl(var(--color-border-h), calc(var(--color-border-s) * var(--color-intensity-modifier)), calc(var(--color-border-l) * var(--ui-contrast-modifier)));
        --color-border-hover: hsl(var(--color-border-hover-h), calc(var(--color-border-hover-s) * var(--color-intensity-modifier)), calc(var(--color-border-hover-l) * var(--ui-contrast-modifier)));
        
        --color-primary-accent: hsl(var(--color-primary-accent-h), calc(var(--color-primary-accent-s) * var(--color-intensity-modifier)), var(--color-primary-accent-l));
        --color-primary-accent-hover: hsl(var(--color-primary-accent-h), calc(var(--color-primary-accent-s) * var(--color-intensity-modifier)), calc(var(--color-primary-accent-l) * 0.9));
        --color-primary-accent-text: hsl(var(--color-primary-accent-text-h), var(--color-primary-accent-text-s), var(--color-primary-accent-text-l));
        
        --color-secondary-accent: hsl(var(--color-secondary-accent-h), calc(var(--color-secondary-accent-s) * var(--color-intensity-modifier)), var(--color-secondary-accent-l));
        --color-secondary-accent-hover: hsl(var(--color-secondary-accent-h), calc(var(--color-secondary-accent-s) * var(--color-intensity-modifier)), calc(var(--color-secondary-accent-l) * 0.9));
        --color-secondary-accent-text: hsl(var(--color-secondary-accent-text-h), var(--color-secondary-accent-text-s), var(--color-secondary-accent-text-l));

        --color-success: hsl(var(--color-success-h), var(--color-success-s), var(--color-success-l));
        --color-warning: hsl(var(--color-warning-h), var(--color-warning-s), var(--color-warning-l));
        --color-danger: hsl(var(--color-danger-h), var(--color-danger-s), var(--color-danger-l));
        --color-danger-hover: hsl(var(--color-danger-h), var(--color-danger-s), calc(var(--color-danger-l) * 0.9));
        --color-danger-text: hsl(var(--color-danger-text-h), var(--color-danger-text-s), var(--color-danger-text-l));
        
        /* New Color Tokens */
        --context-work: hsl(172, 40%, 45%);
        --context-social: hsl(12, 60%, 50%);
        --context-focus: hsl(204, 60%, 45%);
        --context-recovery: hsl(280, 40%, 50%);
        --context-default: hsl(210, 8%, 45%);

        /* Semantic Tag Colors */
        --tag-work-bg: hsl(220, 80%, 94%); --tag-work-text: hsl(220, 40%, 30%);
        --tag-personal-bg: hsl(140, 60%, 94%); --tag-personal-text: hsl(140, 40%, 25%);
        --tag-ideas-bg: hsl(50, 90%, 92%); --tag-ideas-text: hsl(50, 50%, 28%);
        --tag-tasks-bg: hsl(260, 70%, 95%); --tag-tasks-text: hsl(260, 40%, 35%);
        --tag-urgent-bg: hsl(0, 85%, 94%); --tag-urgent-text: hsl(0, 50%, 40%);
        --tag-default-bg: hsl(210, 15%, 94%); --tag-default-text: hsl(210, 10%, 40%);

        --color-clay: hsl(11, 55%, 52%);
        --color-blush: hsl(11, 55%, 82%);
        --color-jade: hsl(147, 28%, 42%);
        --color-mint: hsl(147, 28%, 72%);

        /* Updated Elevation System */
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.08), 0 2px 4px -2px rgb(0 0 0 / 0.08);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        --shadow-glow: 0 0 20px 0px hsla(var(--color-primary-accent-h), calc(var(--color-primary-accent-s) * var(--color-intensity-modifier)), var(--color-primary-accent-l), 0.25);

        --border-radius-sm: 0.375rem;
        --border-radius-md: 0.5rem;
        --border-radius-lg: 0.75rem;
        --border-radius-xl: 1rem;
        --border-radius-2xl: 1.5rem;
        --base-animation-speed: 0.3s;
        --animation-speed: calc(var(--base-animation-speed) * var(--animation-speed-modifier));
        --font-family: 'Inter', sans-serif;
        --font-family-heading: 'DM Sans', sans-serif;
      }

      body {
        font-family: var(--font-family);
        background-color: var(--color-bg);
        color: var(--color-text-primary);
        transition: background-color var(--animation-speed) ease-in-out, color var(--animation-speed) ease-in-out;
      }

      * {
        transition: background-color var(--animation-speed) ease-in-out, color var(--animation-speed) ease-in-out, border-color var(--animation-speed) ease-in-out, transform var(--animation-speed) ease-in-out, box-shadow var(--animation-speed) ease-in-out;
      }
      
      /* Accessibility & Interaction Enhancements */
      :focus-visible {
        outline: 3px solid hsla(var(--color-primary-accent-h), calc(var(--color-primary-accent-s) * var(--color-intensity-modifier)), var(--color-primary-accent-l), 0.6);
        outline-offset: 2px;
        border-radius: var(--border-radius-md);
      }
      
      @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
          animation-duration: 1ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 1ms !important;
          scroll-behavior: auto !important;
        }
      }

      ::placeholder {
        color: var(--color-text-subtle);
        opacity: 1; /* Firefox */
      }
      
      button[class*="bg-[var(--color-primary-accent)]"]:hover {
        box-shadow: var(--shadow-glow);
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      .animate-fade-in {
        animation: fadeIn var(--animation-speed) ease-out;
      }
      
      /* --- V2 UI SYSTEM --- */
      
      h1, h2, h3 {
        font-family: var(--font-family-heading);
      }

      .gradient-text {
        background-image: linear-gradient(135deg, var(--color-primary-accent), var(--color-secondary-accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-fill-color: transparent;
      }

      .section-header-wrapper {
          display: inline-block;
          padding: 6px 20px;
          border-radius: 9999px;
          background-image: linear-gradient(135deg, var(--color-clay), var(--color-blush));
      }

      .section-header-wrapper.jade-mint {
          background-image: linear-gradient(135deg, var(--color-jade), var(--color-mint));
      }

      .section-header-wrapper h1 {
          color: var(--color-text-primary) !important;
          -webkit-text-fill-color: var(--color-text-primary);
          text-fill-color: var(--color-text-primary);
          font-weight: 700;
          font-size: 1.875rem;
      }

      .content-card:hover, .interactive-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-xl);
      }

      .content-card::before, .interactive-card::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background-image: linear-gradient(135deg, var(--color-clay), var(--color-blush));
        opacity: 0;
        transition: opacity var(--animation-speed) ease-in-out, transform var(--animation-speed) ease-in-out;
        pointer-events: none;
        z-index: 0;
        transform: translateX(-101%);
      }

      .content-card.jade-mint::before, .interactive-card.jade-mint::before {
        background-image: linear-gradient(135deg, var(--color-jade), var(--color-mint));
      }
      .content-card:hover::before, .interactive-card:hover::before {
        opacity: 0.07;
        transform: translateX(0);
      }
      
      .inset-divider {
        border-color: hsla(var(--color-text-primary-h), var(--color-text-primary-s), var(--color-text-primary-l), 0.07);
      }

      div[role="dialog"] > div, div[role="alert"] {
        box-shadow: var(--shadow-xl), var(--shadow-glow);
      }
      
      button[class*="bg-[var(--color-primary-accent)]"] {
          position: relative;
          overflow: hidden;
          z-index: 1;
      }
      button[class*="bg-[var(--color-primary-accent)]"]::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: linear-gradient(135deg, hsla(0,0%,100%,0.2), hsla(0,0%,100%,0));
          opacity: 0;
          transition: opacity var(--animation-speed) ease-in-out;
          z-index: -1;
      }
      button[class*="bg-[var(--color-primary-accent)]"]:hover::after {
          opacity: 1;
      }
      
      .animated-checkbox {
        -webkit-appearance: none; appearance: none;
        background-color: var(--color-surface);
        margin: 0; font: inherit; color: currentColor;
        width: 1.25em; height: 1.25em;
        border: 2px solid var(--color-border-hover);
        border-radius: 0.25em;
        transform: translateY(-0.075em);
        display: grid;
        place-content: center;
        cursor: pointer;
        transition: border-color 150ms ease-in-out;
      }
      .animated-checkbox:hover { border-color: var(--color-primary-accent); }
      .animated-checkbox::before {
        content: "";
        width: 0.75em; height: 0.75em;
        transform: scale(0);
        transition: 150ms transform ease-in-out;
        box-shadow: inset 1em 1em var(--color-primary-accent);
        transform-origin: bottom left;
        clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
      }
      .animated-checkbox:checked { border-color: var(--color-primary-accent); }
      .animated-checkbox:checked::before { transform: scale(1); }
      
      .progress-bar-fill {
        transition: width calc(var(--animation-speed) * 1.5) cubic-bezier(0.25, 1, 0.5, 1);
      }
      
      .calendar-category-box {
        background-color: hsla(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l), 0.5);
        border-radius: var(--border-radius-lg);
        padding: 12px;
        border-left: 4px solid;
        margin-bottom: 12px;
      }
      .calendar-category-work { border-color: var(--context-work); }
      .calendar-category-wellness { border-color: var(--context-focus); }
      .calendar-category-social { border-color: var(--context-social); }
      .calendar-category-other { border-color: var(--context-default); }
      
      .interactive-card[draggable="true"]:hover, .calendar-anchor[draggable="true"]:hover {
         box-shadow: var(--shadow-lg), 0 0 15px 0 hsla(var(--color-primary-accent-h), calc(var(--color-primary-accent-s) * var(--color-intensity-modifier)), var(--color-primary-accent-l), 0.4);
      }
      
      .settings-slider {
        -webkit-appearance: none; appearance: none;
        width: 100%; height: 8px;
        background: var(--color-surface-sunken);
        border-radius: 8px; outline: none;
        background-image: linear-gradient(to right, var(--color-jade), var(--color-mint));
      }
      .settings-slider::-webkit-slider-thumb {
        -webkit-appearance: none; appearance: none;
        width: 20px; height: 20px;
        background: var(--color-primary-accent); cursor: pointer;
        border-radius: 50%; border: 3px solid var(--color-surface);
        box-shadow: var(--shadow-md);
      }
      
      /* Density System */
      .density-compact .p-8 { padding: 1.5rem; }
      .density-compact .p-6 { padding: 1rem; }
      .density-compact .py-3 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
      .density-compact .mb-6 { margin-bottom: 1rem; }
      .density-compact .mb-8 { margin-bottom: 1.5rem; }
      .density-compact .space-y-3 { row-gap: 0.5rem; }
      .density-compact .space-y-4 { row-gap: 0.75rem; }
      .density-compact .space-y-6 { row-gap: 1rem; }
      .density-compact h1 { font-size: 2rem; }
      .density-compact h2 { font-size: 1.25rem; }
      .density-compact button { min-height: 40px; }
      .density-compact .calendar-category-box { padding: 8px; }

      /* --- End V2 UI SYSTEM --- */


      /* --- Mobile Preview Styles --- */
      .app-root.preview-mobile {
          padding: 2rem;
          background-color: hsl(var(--color-surface-sunken-h), var(--color-surface-sunken-s), 92%);
          display: flex;
          justify-content: center;
          align-items: flex-start;
          min-height: 100vh;
          height: 100%;
          width: 100%;
          overflow: auto;
      }
      
      .app-root.preview-mobile .app-content {
          width: 375px;
          height: 667px;
          border: 12px solid #1a1a1a;
          border-radius: 40px;
          box-shadow: 0 20px 40px -10px rgba(0,0,0,0.3);
          overflow: hidden;
          background-color: var(--color-bg);
          display: flex;
          flex-direction: column;
          flex-shrink: 0;
      }
      
      .app-root.preview-desktop .app-content {
          min-height: 100vh;
      }

      /* Make main content scrollable within the frame */
      .preview-mobile .app-content > div:first-of-type {
        flex-grow: 1;
        overflow: hidden;
        min-height: 0;
      }
      .preview-mobile .app-content main {
          flex-grow: 1;
          overflow-y: auto;
          scrollbar-width: thin;
          scrollbar-color: var(--color-border) transparent;
      }
      .preview-mobile .app-content main::-webkit-scrollbar { width: 6px; }
      .preview-mobile .app-content main::-webkit-scrollbar-track { background: transparent; }
      .preview-mobile .app-content main::-webkit-scrollbar-thumb {
          background-color: var(--color-border);
          border-radius: 6px;
      }

      /* === Component Overrides for Mobile Preview === */
      .preview-mobile main { padding: 1rem; }
      .preview-mobile h1 { font-size: 1.25rem; }
      .preview-mobile h2 { font-size: 1.1rem; }
      .preview-mobile p, .preview-mobile label { font-size: 1rem; line-height: 1.4; }
      .preview-mobile button { min-height: 44px; }
      .preview-mobile .container { padding-left: 1rem; padding-right: 1rem; }
      .preview-mobile nav { padding: 0.75rem 1rem; }
      .preview-mobile nav .hidden.md\:flex { display: none; }
      .preview-mobile nav .hidden.sm\:inline { display: none; }
      .preview-mobile nav .flex.items-center.space-x-3 { gap: 0.5rem; }
      .preview-mobile .grid.gap-4 { display: flex; flex-direction: column; }
      .preview-mobile .md\:grid-cols-4,
      .preview-mobile .lg\:grid-cols-7,
      .preview-mobile .md\:grid-cols-2,
      .preview-mobile .lg\:grid-cols-3 { grid-template-columns: 1fr !important; }
      .preview-mobile .max-w-4xl, .preview-mobile .max-w-2xl, .preview-mobile .max-w-3xl { max-width: 100%; }
      .preview-mobile .flex-wrap { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
      .preview-mobile .flex.justify-between.items-center.mb-4.flex-wrap.gap-4 { align-items: flex-start; }

      /* Fullscreen Modals */
      .preview-mobile div[role="dialog"] {
        padding: 0;
        align-items: stretch;
        justify-content: stretch;
      }
      .preview-mobile div[role="dialog"] > div {
          width: 100% !important;
          height: 100% !important;
          max-width: 100% !important;
          border-radius: 0 !important;
          padding: 1rem !important;
          display: flex;
          flex-direction: column;
      }
      .preview-mobile div[role="dialog"] > div > form {
          display: flex;
          flex-direction: column;
          flex-grow: 1;
          height: 100%;
          overflow: hidden;
      }
      .preview-mobile div[role="dialog"] > div > form > *:not(:last-child):not(h2) {
          flex-grow: 1;
          overflow-y: auto;
          padding-bottom: 1rem;
      }
      .preview-mobile div[role="dialog"] h2 { 
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }
      .preview-mobile div[role="dialog"] p { 
        font-size: 0.9rem; 
        margin-bottom: 1rem;
      }

      /* --- Mobile Tab Bar --- */
      .mobile-tab-bar {
        display: none;
        height: 64px;
        background-color: hsla(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l), 0.85);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-top: 1px solid var(--color-border);
        box-shadow: 0 -4px 15px -3px rgba(0,0,0,0.05);
        z-index: 100;
        flex-shrink: 0;
      }

      .preview-mobile .mobile-tab-bar {
          display: grid;
          grid-template-columns: repeat(6, 1fr);
          align-items: center;
      }

      .mobile-tab-bar .tab-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 4px;
          color: var(--color-text-subtle);
          font-size: 10px;
          font-weight: 500;
          height: 100%;
          transition: color var(--animation-speed) ease;
          border: none;
          background: none;
          padding: 0;
          cursor: pointer;
      }
      
      .mobile-tab-bar .tab-item:hover {
          color: var(--color-text-primary);
      }

      .mobile-tab-bar .tab-item.active {
          color: var(--color-primary-accent);
      }
      .mobile-tab-bar .tab-item:focus-visible {
        outline-offset: -4px;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.16.0",
    "firebase/app": "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js",
    "firebase/firestore": "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js",
    "firebase/auth": "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js",
    "firebase/": "https://aistudiocdn.com/firebase@^12.2.1/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>